@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 28, 25, 23; /* Stone 900 */
  --background-start-rgb: 250, 250, 249; /* Stone 50 */
  --background-end-rgb: 255, 255, 255;
  /* Safe areas for mobile */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
}

body {
  color: rgb(var(--foreground-rgb));
  background: rgb(var(--background-start-rgb));
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Tiptap Editor Styling */
.ProseMirror {
  outline: none;
  min-height: 500px;
  font-family: var(--font-newsreader), serif;
  font-size: 1.125rem; /* lg */
  line-height: 1.8;
  color: #292524; /* Stone 800 */
}

.ProseMirror h1, .ProseMirror h2, .ProseMirror h3 {
  font-family: var(--font-newsreader), serif;
  font-weight: 600;
  letter-spacing: -0.02em;
}

.ProseMirror p.is-editor-empty:first-child::before {
  color: #a8a29e;
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
}

/* Scrollbar Styling (Light) */
::-webkit-scrollbar {
  width: 6px; /* Thinner for mobile elegance */
  height: 6px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #e7e5e4; /* Stone 200 */
  border-radius: 99px; /* Fully rounded */
}
::-webkit-scrollbar-thumb:hover {
  background: #d6d3d1; /* Stone 300 */
}

/* Smooth Transitions Base */
* {
  -webkit-tap-highlight-color: transparent;
}

html {
  scroll-behavior: smooth;
}

@layer utilities {
  /* Touch-friendly target sizes */
  .touch-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }
  
  /* Smooth transitions */
  .smooth-transition {
    @apply transition-all duration-300 ease-out;
  }

  /* Safe area padding for mobile devices with notches/home bars */
  .pb-safe {
    padding-bottom: max(1rem, var(--safe-area-inset-bottom));
  }
  
  .pt-safe {
    padding-top: max(0.75rem, var(--safe-area-inset-top));
  }

  /* Mobile Drawer Utilities */
  .mobile-drawer-overlay {
    @apply fixed inset-0 bg-stone-900/30 backdrop-blur-sm z-40 md:hidden;
    animation: fadeIn 0.2s ease-out;
  }
  
  .mobile-drawer {
    @apply fixed inset-y-0 left-0 w-[300px] max-w-[85vw] bg-white shadow-2xl z-50 md:hidden;
    animation: slideInLeft 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Responsive text utilities */
  .text-responsive-sm {
    @apply text-sm md:text-base;
  }
  
  .text-responsive-base {
    @apply text-base md:text-lg;
  }
}

/* Animation Keyframes */
@keyframes slideInRight {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes slideInLeft {
  from { transform: translateX(-100%); }
  to { transform: translateX(0); }
}

@keyframes slideUp {
  from { transform: translateY(10px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slideDown {
  from { transform: translateY(-10px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scaleIn {
  from { transform: scale(0.95); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.animate-slide-in-right {
  animation: slideInRight 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-slide-in-left {
  animation: slideInLeft 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-slide-up {
  animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-slide-down {
  animation: slideDown 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-fade-in {
  animation: fadeIn 0.2s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Smooth active states for buttons */
button, [role="button"] {
  transition: transform 0.1s ease-out, background-color 0.15s ease-out, box-shadow 0.15s ease-out;
}

button:active:not(:disabled), [role="button"]:active:not(:disabled) {
  transform: scale(0.98);
}

/* Focus visible for accessibility */
:focus-visible {
  @apply outline-none ring-2 ring-stone-400 ring-offset-2;
}

